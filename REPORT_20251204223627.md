# Email Classification System — Report

## Project Overview
This project is a simple email classification demo that exposes a Flask API to classify email text into categories using a pre-trained model, and a minimal frontend to send text to the API and display results.

## Key Files
- `backend/app.py` — Flask API server exposing POST `/classify`.
- `backend/email_model.pkl` — trained classification model (pickle).
- `backend/vectorizer.pkl` — text vectorizer used before prediction.
- `backend/requirements.txt` — Python dependencies.
- `backend/train_model.py` — training script used to fit the model.
- `backend/clean_dataset.py` — dataset cleaning utilities.
- `backend/auto_label.py` — helper to auto-label data.
- `frontend/index.html` — simple UI to enter email text and call the API.
- `frontend/` — contains static frontend (served by a simple HTTP server).

## How to Run Locally (Windows PowerShell)
1. Start backend (creates model endpoints):
```powershell
cd "C:\Users\appan\Downloads\Email Classification System\backend"
# Activate whichever Python environment you prefer; example using venv in repo:
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt
python app.py
```
This runs the Flask server on `http://127.0.0.1:5000` and exposes `POST /classify`.

2. Serve frontend (optional simple static server):
```powershell
cd "C:\Users\appan\Downloads\Email Classification System"
python -m http.server 8000 --directory frontend
```
Open the UI at `http://127.0.0.1:8000` in your browser — it calls the backend at port 5000 (CORS already enabled in `app.py`).

## API
- Endpoint: `POST http://127.0.0.1:5000/classify`
- Request JSON: `{ "email": "<email text here>" }`
- Response JSON example:
```json
{
  "success": true,
  "category": "spam",
  "confidence": 0.93
}
```

## Model & Data Notes
- The repository includes `email_model.pkl` and `vectorizer.pkl` in `backend/` — `app.py` loads these at startup.
- Trainings and preprocessing are available in `train_model.py` and `clean_dataset.py` if you want to re-train or inspect preprocessing.
- Example datasets: `emails_5000.csv`, `cleaned_emails.csv`, `labeled_emails.csv`.

## Usage Example (curl)
```bash
curl -X POST http://127.0.0.1:5000/classify -H "Content-Type: application/json" -d '{"email":"Hello, I need help with my account"}'
```

## Troubleshooting
- If Python cannot find packages, ensure the virtual environment is activated and `pip install -r backend/requirements.txt` was successful.
- If port 5000 is in use, change the host/port in `backend/app.py` `app.run()` call (e.g., `app.run(port=5001)`).
- If the frontend cannot call the backend, ensure both servers are running and CORS is enabled (it is in `app.py`).

## Next Steps / Improvements
- Add detailed UI feedback and validation in `frontend/index.html`.
- Add unit tests for `clean_dataset.py` and the API endpoints.
- Improve model explainability and persistence of training metadata.

---

Report created in workspace as `REPORT.md`.
